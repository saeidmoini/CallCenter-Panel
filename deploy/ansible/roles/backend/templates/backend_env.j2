{# Build DB URL with URL-encoded password so special chars work #}
{% set enc_pass = db_pass | urlencode %}
{% set db_url = (database_url | default("postgresql+psycopg2://" ~ db_user ~ ":" ~ enc_pass ~ "@" ~ db_host ~ ":" ~ db_port ~ "/" ~ db_name)) %}
DATABASE_URL={{ db_url }}
SECRET_KEY={{ secret_key }}
ACCESS_TOKEN_EXPIRE_MINUTES=60
DIALER_TOKEN={{ dialer_token }}
MAX_BATCH_SIZE=500
DEFAULT_BATCH_SIZE=100
TIMEZONE=Asia/Tehran
SKIP_HOLIDAYS=true
CORS_ORIGINS={{ cors_origins | to_json }}
MELIPAYAMAK_ADVANCED_URL={{ melipayamak_advanced_url | default('https://console.melipayamak.com/api/send/advanced') }}
SALEHI_BANK_NAME={{ salehi_bank_name | default('MEHR_IRAN') }}
SALEHI_BANK_SMS_SENDER={{ salehi_bank_sms_sender | default('') }}
SALEHI_MANAGER_ALERT_NUMBERS={{ salehi_manager_alert_numbers | default('') }}
SALEHI_MELIPAYAMAK_FROM={{ salehi_melipayamak_from | default('') }}
SALEHI_MELIPAYAMAK_API_KEY={{ salehi_melipayamak_api_key | default('') }}
SALEHI_SMS_PARSER={{ salehi_sms_parser | default('default') }}
DEFAULT_BANK_NAME={{ default_bank_name | default('DEFAULT_BANK') }}
DEFAULT_BANK_SMS_SENDER={{ default_bank_sms_sender | default('') }}
DEFAULT_MANAGER_ALERT_NUMBERS={{ default_manager_alert_numbers | default('') }}
DEFAULT_MELIPAYAMAK_FROM={{ default_melipayamak_from | default('') }}
DEFAULT_MELIPAYAMAK_API_KEY={{ default_melipayamak_api_key | default('') }}
DEFAULT_SMS_PARSER={{ default_sms_parser | default('default') }}
GOOGLE_SHEET_WEBHOOK_URL={{ google_sheet_webhook_url | default('') }}
GOOGLE_SHEET_WEBHOOK_TOKEN={{ google_sheet_webhook_token | default('') }}
GOOGLE_SHEET_WEBHOOK_TIMEOUT_SECONDS={{ google_sheet_webhook_timeout_seconds | default(10) }}
